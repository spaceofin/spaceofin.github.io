<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://mizcysqzabsegohkcjcx.supabase.co/storage/v1/object/public/posts/learning-logs/images/EB102AD1-3AD8-4729-975A-4022D039F57C.png"/><link rel="stylesheet" href="/_next/static/css/ec8169d84bc91095.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cceda007551b34ac.js"/><script src="/_next/static/chunks/fd9d1056-42bca7a501e26700.js" async=""></script><script src="/_next/static/chunks/23-0400f1ada3445968.js" async=""></script><script src="/_next/static/chunks/main-app-e0d78c455d046f20.js" async=""></script><script src="/_next/static/chunks/231-6a7b6dfd7bcbf59a.js" async=""></script><script src="/_next/static/chunks/app/layout-c9173ec0898b2734.js" async=""></script><title>Spaceofin Logs</title><meta name="description" content="A blog for study logs"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="256x256"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><nav class="font-mono mx-16"><ul class="relative min-h-32 mt-14 mb-10 mx-2 sm:mx-12 lg:mx-14 flex flex-col md:flex-row md:space-x-12 lg:space-x-16 space-y-1 md:space-y-0 justify-center md:justify-start items-start sm:items-center md:items-center text-2xl md:text-3xl z-0 tracking-tight text-zinc-900 pl-4 sm:pl-0"><li><a href="/">Home</a></li><li><a href="/learning-logs">Learning Logs</a></li><li><a href="/commit-logs">Commit Logs</a></li></ul></nav><div class="flex justify-center py-10"><div class="page-background"><div class="flex flex-col prose dark:prose-invert w-full h-full max-h-none overflow-visible px-4"><h1 class="my-20 text-4xl">React.FC는 사용이 권장되지 않습니다</h1>
<h2 class="mt-20 text-3xl text-blue-900">React.FC는 React18 부터 사용 방식이 변경되었습니다</h2>
<p><code>React.FC</code>는 React 18부터 사용 방식이 변경되었습니다.</p>
<p>FunctoinComponent는 React17 버전 이하에서 함수형 컴포넌트를 정의할 때 사용되었으나 암묵적으로 children을 props 로 포함한다는 문제점을 가지고 있었습니다. React 18 버전에서 children props의 암묵적 포함 문제가 해결되었으나 필요한 경우 명시적으로 children을 props로 포함하는 방식이 더 낫기 때문에 React.FC의 사용은 권장되지 않습니다.</p>
<p>React18과 React17의 <code>React.FC</code> 정의를 살펴보면 아래와 같습니다.</p>
<pre><code>// React18

type FC&lt;P = {}&gt; = FunctionComponent&lt;P&gt;;

interface FunctionComponent&lt;P = {}&gt; {
		(
				props: P,
				deprecatedLegacyContext?: any,
		): ReactNode;
		propTypes?: WeakValidationMap&lt;P&gt; | undefined;
		contextTypes?: ValidationMap&lt;any&gt; | undefined;
		defaultProps?: Partial&lt;P&gt; | undefined;
		displayName?: string | undefined;
}
</code></pre>
<pre><code>// React17

type FC&lt;P = {}&gt; = FunctionComponent&lt;P&gt;;
 
interface FunctionComponent&lt;P = {}&gt; {
		(props: PropsWithChildren&lt;P&gt;, context?: any): ReactElement&lt;any, any&gt; | null;
		propTypes?: WeakValidationMap&lt;P&gt; | undefined;
		contextTypes?: ValidationMap&lt;any&gt; | undefined;
		defaultProps?: Partial&lt;P&gt; | undefined;
		displayName?: string | undefined;
}

type PropsWithChildren&lt;P&gt; = P &amp; { children?: ReactNode | undefined };

</code></pre>
<p>React 17 버전 이하에서는 FunctionComponent는 <code>children</code>을 항상 props로 가질 수 있었습니다.</p>
<p>예시 코드를 살펴 보면 아래와 같습니다.</p>
<pre><code>// React17 버전
type TestProps = {
  text: string;
};

export const Test: React.FC&lt;TestProps&gt; = ({ text, children }) =&gt; {
  return (
    &lt;div&gt;
      {text}
      {children}
    &lt;/div&gt;
  );
};

const App = () =&gt; (
  &lt;Test text=&quot;hello&quot;&gt;
    &lt;div&gt;{&quot;This is children&quot;}&lt;/div&gt;
  &lt;/Test&gt;
);

export default App;

</code></pre>
<p>props에 타입에 children을 지정하지 않았지만 문제 없이 동작합니다.<br/>
<!-- -->같은 코드를 React18 버전 이상에서 구동할 경우 아래와 같이 에러가 발생합니다.</p>
<p><img class="mt-1 mb-8" src="https://mizcysqzabsegohkcjcx.supabase.co/storage/v1/object/public/posts/learning-logs/images/EB102AD1-3AD8-4729-975A-4022D039F57C.png" alt=""/></p>
<h2 class="mt-20 text-3xl text-blue-900">그렇다면  React.FC 대신 무엇을 사용해야 할까요?</h2>
<p>별도의 다른 내장 타입의 사용이 필요하지 않습니다.<br/>
<!-- -->필요한 props 타입을 직접 정의하여 사용합니다.</p>
<pre><code>// 예
type TestProps = {
  text: string;
  children?: React.ReactNode;
};

export const Test = ({ text, children }: TestProps) =&gt; {
  return (
    &lt;div&gt;
      {text}
      {children}
    &lt;/div&gt;
  );
};

const App = () =&gt; (
  &lt;Test text=&quot;hello&quot;&gt;
    &lt;div&gt;{&quot;This is children&quot;}&lt;/div&gt;
  &lt;/Test&gt;
);

export default App;
</code></pre>
<h2 class="mt-20 text-3xl text-blue-900">references</h2>
<pre><code>https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components/
https://github.com/facebook/create-react-app/pull/8177
</code></pre></div></div></div><script src="/_next/static/chunks/webpack-cceda007551b34ac.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/ec8169d84bc91095.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[5751,[],\"\"]\n5:I[9275,[],\"\"]\n7:I[1343,[],\"\"]\n8:I[5767,[\"231\",\"static/chunks/231-6a7b6dfd7bcbf59a.js\",\"185\",\"static/chunks/app/layout-c9173ec0898b2734.js\"],\"PostProvider\",1]\n9:I[231,[\"231\",\"static/chunks/231-6a7b6dfd7bcbf59a.js\",\"185\",\"static/chunks/app/layout-c9173ec0898b2734.js\"],\"\"]\nb:I[6130,[],\"\"]\n6:[\"slug\",\"React.FC\",\"d\"]\nc:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"RXy6EsBE1La1Foi2c_t5-\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"learning-logs\",\"React.FC\"],\"initialTree\":[\"\",{\"children\":[\"learning-logs\",{\"children\":[[\"slug\",\"React.FC\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"React.FC\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"learning-logs\",{\"children\":[[\"slug\",\"React.FC\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$L4\",null],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learning-logs\",\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learning-logs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ec8169d84bc91095.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"$L8\",null,{\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"nav\",null,{\"className\":\"font-mono mx-16\",\"children\":[\"$\",\"ul\",null,{\"className\":\"relative min-h-32 mt-14 mb-10 mx-2 sm:mx-12 lg:mx-14 flex flex-col md:flex-row md:space-x-12 lg:space-x-16 space-y-1 md:space-y-0 justify-center md:justify-start items-start sm:items-center md:items-center text-2xl md:text-3xl z-0 tracking-tight text-zinc-900 pl-4 sm:pl-0\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"$L9\",null,{\"href\":\"/\",\"children\":\"Home\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L9\",null,{\"href\":\"/learning-logs\",\"children\":\"Learning Logs\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L9\",null,{\"href\":\"/commit-logs\",\"children\":\"Commit Logs\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex justify-center py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"page-background\",\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$La\"],\"globalErrorComponent\":\"$b\",\"missingSlots\":\"$Wc\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Spaceofin Logs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A blog for study logs\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"256x256\"}]]\n3:null\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"flex flex-col prose dark:prose-invert w-full h-full max-h-none overflow-visible px-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"my-20 text-4xl\",\"children\":\"React.FC는 사용이 권장되지 않습니다\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-20 text-3xl text-blue-900\",\"children\":\"React.FC는 React18 부터 사용 방식이 변경되었습니다\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"React.FC\"}],\"는 React 18부터 사용 방식이 변경되었습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"FunctoinComponent는 React17 버전 이하에서 함수형 컴포넌트를 정의할 때 사용되었으나 암묵적으로 children을 props 로 포함한다는 문제점을 가지고 있었습니다. React 18 버전에서 children props의 암묵적 포함 문제가 해결되었으나 필요한 경우 명시적으로 children을 props로 포함하는 방식이 더 낫기 때문에 React.FC의 사용은 권장되지 않습니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React18과 React17의 \",[\"$\",\"code\",null,{\"children\":\"React.FC\"}],\" 정의를 살펴보면 아래와 같습니다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"// React18\\n\\ntype FC\u003cP = {}\u003e = FunctionComponent\u003cP\u003e;\\n\\ninterface FunctionComponent\u003cP = {}\u003e {\\n\\t\\t(\\n\\t\\t\\t\\tprops: P,\\n\\t\\t\\t\\tdeprecatedLegacyContext?: any,\\n\\t\\t): ReactNode;\\n\\t\\tpropTypes?: WeakValidationMap\u003cP\u003e | undefined;\\n\\t\\tcontextTypes?: ValidationMap\u003cany\u003e | undefined;\\n\\t\\tdefaultProps?: Partial\u003cP\u003e | undefined;\\n\\t\\tdisplayName?: string | undefined;\\n}\\n\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"// React17\\n\\ntype FC\u003cP = {}\u003e = FunctionComponent\u003cP\u003e;\\n \\ninterface FunctionComponent\u003cP = {}\u003e {\\n\\t\\t(props: PropsWithChildren\u003cP\u003e, context?: any): ReactElement\u003cany, any\u003e | null;\\n\\t\\tpropTypes?: WeakValidationMap\u003cP\u003e | undefined;\\n\\t\\tcontextTypes?: ValidationMap\u003cany\u003e | undefined;\\n\\t\\tdefaultProps?: Partial\u003cP\u003e | undefined;\\n\\t\\tdisplayName?: string | undefined;\\n}\\n\\ntype PropsWithChildren\u003cP\u003e = P \u0026 { children?: ReactNode | undefined };\\n\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React 17 버전 이하에서는 FunctionComponent는 \",[\"$\",\"code\",null,{\"children\":\"children\"}],\"을 항상 props로 가질 수 있었습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"예시 코드를 살펴 보면 아래와 같습니다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"// React17 버전\\ntype TestProps = {\\n  text: string;\\n};\\n\\nexport const Test: React.FC\u003cTestProps\u003e = ({ text, children }) =\u003e {\\n  return (\\n    \u003cdiv\u003e\\n      {text}\\n      {children}\\n    \u003c/div\u003e\\n  );\\n};\\n\\nconst App = () =\u003e (\\n  \u003cTest text=\\\"hello\\\"\u003e\\n    \u003cdiv\u003e{\\\"This is children\\\"}\u003c/div\u003e\\n  \u003c/Test\u003e\\n);\\n\\nexport default App;\\n\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"props에 타입에 children을 지정하지 않았지만 문제 없이 동작합니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"같은 코드를 React18 버전 이상에서 구동할 경우 아래와 같이 에러가 발생합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"className\":\"mt-1 mb-8\",\"src\":\"https://mizcysqzabsegohkcjcx.supabase.co/storage/v1/object/public/posts/learning-logs/images/EB102AD1-3AD8-4729-975A-4022D039F57C.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-20 text-3xl text-blue-900\",\"children\":\"그렇다면  React.FC 대신 무엇을 사용해야 할까요?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"별도의 다른 내장 타입의 사용이 필요하지 않습니다.\",[\"$\",\"br\",null,{}],\"\\n\",\"필요한 props 타입을 직접 정의하여 사용합니다.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"// 예\\ntype TestProps = {\\n  text: string;\\n  children?: React.ReactNode;\\n};\\n\\nexport const Test = ({ text, children }: TestProps) =\u003e {\\n  return (\\n    \u003cdiv\u003e\\n      {text}\\n      {children}\\n    \u003c/div\u003e\\n  );\\n};\\n\\nconst App = () =\u003e (\\n  \u003cTest text=\\\"hello\\\"\u003e\\n    \u003cdiv\u003e{\\\"This is children\\\"}\u003c/div\u003e\\n  \u003c/Test\u003e\\n);\\n\\nexport default App;\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-20 text-3xl text-blue-900\",\"children\":\"references\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components/\\nhttps://github.com/facebook/create-react-app/pull/8177\\n\"}]}]]}]\n"])</script></body></html>